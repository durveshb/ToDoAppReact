(this["webpackJsonptodo-app-react"]=this["webpackJsonptodo-app-react"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/urgLow.ebcb8ed5.svg"},function(e,t,a){e.exports=a.p+"static/media/urgMedium.76585130.svg"},function(e,t,a){e.exports=a.p+"static/media/urgHigh.ddd50b75.svg"},function(e,t,a){e.exports=a.p+"static/media/catPersonal.59f3d012.svg"},function(e,t,a){e.exports=a.p+"static/media/catAcademic.ea00a6a9.svg"},function(e,t,a){e.exports=a.p+"static/media/catSocial.2c039af2.svg"},,,,function(e,t,a){e.exports=a(31)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(11),l=a.n(c),r=(a(26),a(6)),i=a(1),s=a(2),d=a(3),u=a(5),m=a(4),p=a(33);a(27);function h(e){var t="flex-".concat(e.type," ").concat(e.className);return o.a.createElement("div",{className:t},e.children)}h.defaultProps={type:"colc",className:""};var f=a(18);function v(e,t){var a=t.split("-"),n=Object(f.a)(a,2),o=n[0],c=n[1];switch(o){case"ug":e=e.filter((function(e){return e.urgency===c}));break;case"ct":e=e.filter((function(e){return e.category===c}));break;default:return e}return e}!function(){var e=100}();var g=["January","February","March","April","May","June","July","August","September","October","November","December"],y=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function T(){return o.a.createElement("div",{className:"header"},o.a.createElement("div",{className:"header__calender"},function(){var e=new Date;return"".concat(y[e.getDay()],", ").concat(g[e.getMonth()]," ").concat(e.getDate())}()),o.a.createElement("div",{className:"header__logo"},"To-Do App"))}var b=a(20);a(28);function E(e){var t="icon icon-".concat(e.size," ").concat(e.isSelected?"icon--selected":""," ").concat(e.className);return o.a.createElement("img",{src:e.src,alt:"",className:t,onClick:function(){return e.handleClick(e.id)}})}function S(e){var t=e.iconClassName||"";return o.a.createElement("div",{className:e.containerClass},e.icons.map((function(a){return o.a.createElement(E,{key:a.id,className:t,size:e.size,id:a.id,src:a.src,isSelected:e.selectedId===a.id,handleClick:e.handleClick})})))}E.defaultProps={size:"md",isSelected:!1,className:""};a(29);var N=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).className="btn btn-".concat(e.props.size,"-").concat(e.props.type," btn-").concat(e.props.theme," ").concat(e.props.className),e}return Object(d.a)(a,[{key:"render",value:function(){return o.a.createElement("button",{className:this.className,onClick:this.props.handleClick},this.props.children)}}]),a}(o.a.Component);function C(e){return e.buttons.map((function(e,t){return o.a.createElement(N,Object.assign({key:t},e),e.innerHTML)}))}N.defaultProps={type:"pill",theme:"",size:"md",classname:"",handleClick:function(){},children:""};var k=a(12),_=a.n(k),j=a(13),O=a.n(j),D=a(14),M=a.n(D),I=a(15),A=a.n(I),w=a(16),F=a.n(w),H=a(17),z=a.n(H),x=[{id:"ug-1",name:"Low",value:"1",src:_.a},{id:"ug-2",name:"Medium",value:"2",src:O.a},{id:"ug-3",name:"High",value:"3",src:M.a}],L=[{id:"ct-1",name:"Personal",value:"1",src:A.a},{id:"ct-2",name:"Academic",value:"2",src:F.a},{id:"ct-3",name:"Social",value:"3",src:z.a}],R=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).saveChange=function(){n.props.onDetailChange(n.props.todo.id,n.state)},n.handleUrgencyChange=function(e){n.setState({urgency:e.split("-")[1]})},n.handleCategoryChange=function(e){n.setState({category:e.split("-")[1]})},n.state={body:n.props.todo.body,urgency:n.props.todo.urgency,category:n.props.todo.category},n.controls=[{type:"pill",theme:"active",className:"detail__btn",size:"sm",innerHTML:"Cancel",handleClick:n.props.onClose},{type:"pill",theme:"passive",className:"detail__btn",size:"sm",innerHTML:"Save",handleClick:n.saveChange}],n}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement(h,{className:"detailWrapper"},o.a.createElement(h,{className:"detail"},o.a.createElement("textarea",{className:"detail__body",value:this.state.body,onChange:function(t){return e.setState({body:t.target.value})}}),o.a.createElement(S,{icons:x,size:"md",selectedId:"ug-".concat(this.state.urgency),handleClick:this.handleUrgencyChange,containerClass:"detail__optionContainer",iconClassName:"detail__option"}),o.a.createElement(S,{icons:L,size:"md",selectedId:"ct-".concat(this.state.category),handleClick:this.handleCategoryChange,containerClass:"detail__optionContainer",iconClassName:"detail__option"}),o.a.createElement("div",{className:"detail__controls"},o.a.createElement(C,{buttons:this.controls}))))}}]),a}(n.Component);function P(e){return o.a.createElement(h,{type:"rowc",className:"todo__features"},o.a.createElement("img",{alt:"Urgency Icon",src:x.find((function(t){return t.value===e.urgency})).src,className:"todo__featureImg"}),o.a.createElement("img",{alt:"Category Icon",src:L.find((function(t){return t.value===e.category})).src,className:"todo__featureImg"}))}function U(e){var t="todo";t+=e.data.completed?" todo--completed":"",t+=e.isSelected?" todo--selected":"";var a=[{type:"pill",theme:"active",className:"btn-complete",size:"md",innerHTML:e.data.completed?"Completed. Undo?":"Mark Complete",handleClick:function(){e.handlers.complete(e.data.id)}},{type:"disk",theme:"active",className:"btn-delete",innerHTML:"\u2612",handleClick:function(){e.handlers.delete(e.data.id)}},{type:"disk",theme:"active",className:"btn-detail",innerHTML:"\u270e",handleClick:function(){e.handlers.showDetail(e.data.id)}},{type:"disk",className:"btn-select",size:"sm",handleClick:function(){e.handlers.select(e.data.id)}}];return o.a.createElement(h,{className:t},o.a.createElement("div",{className:"todo__body"},e.data.body),o.a.createElement("div",{className:"todo__timestamp"},e.data.timestamp),o.a.createElement(P,{urgency:e.data.urgency,category:e.data.category}),o.a.createElement(C,{buttons:a}))}function K(e){return o.a.createElement(o.a.Fragment,null,e.todos.map((function(t){return o.a.createElement(U,{key:t.id,data:t,isSelected:e.selectedTodos.includes(t.id),handlers:e.handlers})})))}function J(e){var t=[{type:"disk",theme:"passive",className:"tool tool__complete",size:"md",innerHTML:"\u2611",handleClick:e.onComplete},{type:"disk",theme:"passive",className:"tool tool__incomplete",size:"md",innerHTML:"\u2610",handleClick:e.onIncomplete},{type:"disk",theme:"passive",className:"tool tool__delete",size:"md",innerHTML:"\u2612",handleClick:e.onDelete}];return o.a.createElement("div",{className:"toolmenu"},o.a.createElement(C,{buttons:t}))}function B(e){var t=v(e.todos,e.filter),a=e.handlers,n=a.changeDetail,c=a.closeDetail,l=a.completeSelection,r=a.incompleteSelection,i=a.deleteSelection,s=Object(b.a)(a,["changeDetail","closeDetail","completeSelection","incompleteSelection","deleteSelection"]),d=e.todos.find((function(t){return t.id===e.detailedTodo}));return o.a.createElement("div",{className:"todoDisplay",onClick:function(t){t.target===t.currentTarget&&e.handlers.select(-1)}},0===e.todos.length?o.a.createElement(h,{className:"noTodos"},"You haven't added any todos yet. Got anything on top of your mind?"):o.a.createElement(o.a.Fragment,null,d&&o.a.createElement(R,{todo:d,onDetailChange:n,onClose:c}),o.a.createElement(K,{todos:t,selectedTodos:e.selectedTodos,handlers:s}),o.a.createElement(J,{onComplete:l,onIncomplete:r,onDelete:i})))}function W(e){return o.a.createElement("label",{className:"label"},e.name)}function G(e){var t=x.concat(L);return o.a.createElement(h,{className:"filter"},o.a.createElement(S,{icons:t,size:"sm",selectedId:e.activeFilter,handleClick:e.onFilterChange,containerClass:"filtericons"}),o.a.createElement(W,{name:"Filter Todos"}))}function Y(e){var t=e.completed,a=e.total,n=a>0?Math.floor(100*t/a):0,c=2*Math.PI*100,l=c-c*n/100;return o.a.createElement(h,{className:"analytics__graphic"},o.a.createElement("svg",{height:2.2*100,width:2.2*100,className:"progressCircle"},o.a.createElement("circle",{className:"progressStroke",stroke:"rgb(53, 178, 236)",fill:"tansparent",strokeWidth:20,strokeDasharray:"".concat(c," ").concat(c),style:{strokeDashoffset:l},r:100,cx:100*1.1,cy:100*1.1})),o.a.createElement(h,{className:"analytics__data"},o.a.createElement("div",{className:"analytics__percentage"},"".concat(n,"%")),o.a.createElement("div",{className:"analytics__ratio"},"".concat(t," / ").concat(a))))}function q(e){var t=v(e.todos,e.filter),a=t.filter((function(e){return e.completed})).length,n=t.length;return o.a.createElement(h,{className:"analytics"},o.a.createElement(Y,{completed:a,total:n}),o.a.createElement(W,{name:"Analytics"}))}function Q(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(W,{name:e.name}),o.a.createElement("select",{ref:e.selectRef,className:e.className},e.options.map((function(e,t){return o.a.createElement("option",{key:t,value:e.value},e.name)}))))}var V=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this)).handleClick=function(e){e.preventDefault();var t=n.input.current.value,a=n.urgency.current.value,o=n.category.current.value;""!==t&&n.props.onSubmit(t,a,o),n.input.current.value="",n.urgency.current.value="1",n.category.current.value="1"},n.input=o.a.createRef(),n.urgency=o.a.createRef(),n.category=o.a.createRef(),n}return Object(d.a)(a,[{key:"render",value:function(){return o.a.createElement(h,{type:"col",className:"addForm"},o.a.createElement(h,{className:"addForm__banner"},o.a.createElement("h1",{className:"bannerInner"},"Create Todo")),o.a.createElement("form",{className:"addForm__form",onSubmit:this.handleClick},o.a.createElement("input",{ref:this.input,type:"text",placeholder:"Add your todo ...",className:"addForm__message"}),o.a.createElement(Q,{name:"Urgency",selectRef:this.urgency,className:"addForm__select",options:x}),o.a.createElement(Q,{name:"Category",selectRef:this.category,className:"addForm__select",options:L}),o.a.createElement(N,{type:"disk",theme:"passive",size:"lg",className:"addForm__submit"},"+")))}}]),a}(o.a.Component);function X(e){return o.a.createElement(h,{type:"col",className:"sidebar"},o.a.createElement(G,{activeFilter:e.filter,onFilterChange:e.handlers.filter}),o.a.createElement(q,{todos:e.todos,filter:e.filter}),o.a.createElement(V,{onSubmit:e.handlers.add}))}var Z=a(19);var $=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).addToTimeline=function(t){var a=Object(i.a)(e.state.timeline.slice(0,e.state.pointInTime));return a.push(t),a},e.handleFilter=function(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t===e.state.filter?"NONE":t;if(a){var o={action:{type:"FilChange",params:[n]},counter:{type:"FilChange",params:[e.state.filter]}};e.setState((function(t){return{filter:n,timeline:e.addToTimeline(o),pointInTime:t.pointInTime+1}}))}else e.setState({filter:n})},e.handleAddHelper=function(t,a,n){var o={id:Object(p.a)(),body:t,urgency:a,category:n,completed:!1,pinned:!1,timestamp:(new Date).toLocaleString()};e.handleAdd(o)},e.handleAdd=function(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.server.addTodo(t).then((function(){e.server.getAllTodos().then((function(n){if(a){var o={action:{type:"Add",params:[t]},counter:{type:"Delete",params:[t.id]}};e.setState((function(t){return{todos:n,timeline:e.addToTimeline(o),pointInTime:t.pointInTime+1}}))}else e.setState({todos:n})}))}))},e.handleDelete=function(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.server.deleteTodo(t).then((function(){e.server.getAllTodos().then((function(n){if(a){var o=e.state.todos.find((function(e){return e.id===t})),c={action:{type:"Delete",params:[t]},counter:{type:"Add",params:[o]}};e.setState((function(t){return{todos:n,timeline:e.addToTimeline(c),pointInTime:t.pointInTime+1}}))}else e.setState({todos:n})}))}))},e.handleComplete=function(t){var a=e.state.todos.find((function(e){return e.id===t}));e.handleChangeDetailHelper(t,{completed:!a.completed})},e.handleShowDetail=function(t){e.setState({detailedTodo:t})},e.handleCloseDetail=function(){e.setState({detailedTodo:"NONE"})},e.handleChangeDetailHelper=function(t,a){var n=e.state.todos.find((function(e){return e.id===t})),o=Object(r.a)(Object(r.a)({},n),a);e.handleChangeDetail(o,n)},e.handleChangeDetail=function(t,a){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e.server.updateTodo(t).then((function(){e.server.getAllTodos().then((function(o){if(n){var c={action:{type:"Edit",params:[t,a]},counter:{type:"Edit",params:[a,t]}};e.setState((function(t){return{todos:o,detailedTodo:"NONE",timeline:e.addToTimeline(c),pointInTime:t.pointInTime+1}}))}else e.setState({todos:o,detailedTodo:"NONE"})}))}))},e.handleSelect=function(t){var a=[];-1!==t?(a=e.state.selectedTodos.includes(t)?e.state.selectedTodos.filter((function(e){return e!==t})):[].concat(Object(i.a)(e.state.selectedTodos),[t]),e.setState({selectedTodos:a})):e.setState({selectedTodos:a})},e.editMultiple=function(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.server.updateSelection(t).then((function(){e.server.getAllTodos().then((function(t){if(a){var n={action:{type:"EditMultiple",params:[t]},counter:{type:"EditMultiple",params:[Object(i.a)(e.state.todos)]}};e.setState((function(a){return{todos:t,timeline:e.addToTimeline(n),pointInTime:a.pointInTime+1,selectedTodos:[]}}))}else e.setState({todos:t,selectedTodos:[]})}))}))},e.addMultiple=function(t){e.server.addMultiple(t).then((function(){e.server.getAllTodos().then((function(t){e.setState({todos:t,selectedTodos:[]})}))}))},e.toggleSelection=function(t){var a=e.state.todos.map((function(a){return e.state.selectedTodos.includes(a.id)?Object(r.a)(Object(r.a)({},a),{},{completed:t}):a}));e.editMultiple(a)},e.handleCompleteSelection=function(){e.toggleSelection(!0)},e.handleIncompleteSelection=function(){e.toggleSelection(!1)},e.deleteSelectionHelper=function(){e.deleteMultiple(Object(i.a)(e.state.selectedTodos))},e.deleteMultiple=function(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.server.deleteMultiple(t).then((function(){e.server.getAllTodos().then((function(n){if(a){var o=e.state.todos.filter((function(e){return t.includes(e.id)})),c={action:{type:"DeleteMultiple",params:[t]},counter:{type:"AddMultiple",params:[o]}};e.setState((function(t){return{todos:n,selectedTodos:[],timeline:e.addToTimeline(c),pointInTime:t.pointInTime+1}}))}else e.setState({todos:n,selectedTodos:[]})}))}))},e.handleKeypress=function(t){!t.shiftKey&&t.metaKey&&"z"===t.key?e.handleUndo():t.shiftKey&&t.metaKey&&"z"===t.key&&e.handleRedo()},e.handleUndo=function(){if(!(e.state.pointInTime<=0)){var t=e.state.pointInTime-1,a=e.state.timeline[t].counter;e.setState((function(e){return{pointInTime:t}})),e.dispatch(a)}},e.handleRedo=function(){if(!(e.state.pointInTime>=e.state.timeline.length)){var t=e.state.pointInTime,a=e.state.timeline[t].action;e.setState({pointInTime:t+1}),e.dispatch(a)}},e.dispatch=function(t){var a,n,o,c,l,r,s,d=t.type,u=t.params;switch(d){case"Delete":(a=e).handleDelete.apply(a,Object(i.a)(u).concat([!1]));break;case"Add":(n=e).handleAdd.apply(n,Object(i.a)(u).concat([!1]));break;case"Edit":(o=e).handleChangeDetail.apply(o,Object(i.a)(u).concat([!1]));break;case"AddMultiple":(c=e).addMultiple.apply(c,Object(i.a)(u));break;case"DeleteMultiple":(l=e).deleteMultiple.apply(l,Object(i.a)(u).concat([!1]));break;case"EditMultiple":(r=e).editMultiple.apply(r,Object(i.a)(u).concat([!1]));break;case"FilChange":(s=e).handleFilter.apply(s,Object(i.a)(u).concat([!1]))}},e.state={todos:[],filter:"NONE",detailedTodo:"NONE",selectedTodos:[],timeline:[],pointInTime:0},e.server=null,e.todoHandlers={complete:e.handleComplete,delete:e.handleDelete,showDetail:e.handleShowDetail,closeDetail:e.handleCloseDetail,changeDetail:e.handleChangeDetailHelper,select:e.handleSelect,completeSelection:e.handleCompleteSelection,incompleteSelection:e.handleIncompleteSelection,deleteSelection:e.deleteSelectionHelper},e.sidebarHandlers={filter:e.handleFilter,add:e.handleAddHelper},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.server=function(){var e=Object(Z.a)("TodoBase",1,{upgrade:function(e){(console.log("Making a new TodoBase"),e.objectStoreNames.contains("TodoStore"))||e.createObjectStore("TodoStore",{keyPath:"id"}).createIndex("timestamp","timestamp")}});return{getAllTodos:function(){return e.then((function(e){return e.getAllFromIndex("TodoStore","timestamp")}))},addTodo:function(t){return e.then((function(e){var a=e.transaction("TodoStore","readwrite");return a.objectStore("TodoStore").add(t),a.complete}))},deleteTodo:function(t){return e.then((function(e){var a=e.transaction("TodoStore","readwrite");return a.objectStore("TodoStore").delete(t),a.complete}))},updateTodo:function(t){return e.then((function(e){var a=e.transaction("TodoStore","readwrite");return a.objectStore("TodoStore").put(t),a.complete}))},updateSelection:function(t){return e.then((function(e){var a=e.transaction("TodoStore","readwrite"),n=a.objectStore("TodoStore");return t.forEach((function(e){return n.put(e)})),a.complete}))},deleteMultiple:function(t){return e.then((function(e){var a=e.transaction("TodoStore","readwrite"),n=a.objectStore("TodoStore");return t.forEach((function(e){return n.delete(e)})),a.complete}))},addMultiple:function(t){return e.then((function(e){var a=e.transaction("TodoStore","readwrite"),n=a.objectStore("TodoStore");return t.forEach((function(e){return n.add(e)})),a.complete}))}}}(),this.server.getAllTodos().then((function(t){e.setState({todos:t})})),window.addEventListener("keydown",this.handleKeypress)}},{key:"render",value:function(){return o.a.createElement(h,{type:"col",className:"container"},o.a.createElement(T,null),o.a.createElement(h,{type:"row",className:"main"},o.a.createElement(B,{todos:this.state.todos,filter:this.state.filter,detailedTodo:this.state.detailedTodo,selectedTodos:this.state.selectedTodos,handlers:this.todoHandlers}),o.a.createElement(X,{todos:this.state.todos,filter:this.state.filter,handlers:this.sidebarHandlers})))}}]),a}(n.Component);l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement($,null)),document.getElementById("root"))}],[[21,1,2]]]);
//# sourceMappingURL=main.cf30acb7.chunk.js.map