(this["webpackJsonptodo-app-react"]=this["webpackJsonptodo-app-react"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/urgLow.ebcb8ed5.svg"},function(e,t,a){e.exports=a.p+"static/media/urgMedium.76585130.svg"},function(e,t,a){e.exports=a.p+"static/media/urgHigh.ddd50b75.svg"},function(e,t,a){e.exports=a.p+"static/media/catPersonal.59f3d012.svg"},function(e,t,a){e.exports=a.p+"static/media/catAcademic.ea00a6a9.svg"},function(e,t,a){e.exports=a.p+"static/media/catSocial.2c039af2.svg"},,,function(e,t,a){e.exports=a(31)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(12),l=a.n(c),r=(a(26),a(7)),i=a(10),s=a(1),d=a(2),u=a(3),m=a(5),h=a(4);a(27);function p(e){var t="flex-".concat(e.type," ").concat(e.className);return o.a.createElement("div",{className:t},e.children)}function f(e,t){var a=t.split("-"),n=Object(r.a)(a,2),o=n[0],c=n[1];switch(o){case"ug":e=e.filter((function(e){return e.urgency===c}));break;case"ct":e=e.filter((function(e){return e.category===c}));break;default:return e}return e}p.defaultProps={type:"colc",className:""};!function(){var e=100}();var g=["January","February","March","April","May","June","July","August","September","October","November","December"],v=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function y(){return o.a.createElement("div",{className:"header"},o.a.createElement("div",{className:"header__calender"},function(){var e=new Date;return"".concat(v[e.getDay()],", ").concat(g[e.getMonth()]," ").concat(e.getDate())}()),o.a.createElement("div",{className:"header__logo"},"To-Do App"))}var b=a(20);a(28);function E(e){var t="icon icon-".concat(e.size," ").concat(e.isSelected?"icon--selected":""," ").concat(e.className);return o.a.createElement("img",{src:e.src,alt:"",className:t,onClick:function(){return e.handleClick(e.id)}})}function S(e){var t=e.iconClassName||"";return o.a.createElement("div",{className:e.containerClass},e.icons.map((function(a){return o.a.createElement(E,{key:a.id,className:t,size:e.size,id:a.id,src:a.src,isSelected:e.selectedId===a.id,handleClick:e.handleClick})})))}E.defaultProps={size:"md",isSelected:!1,className:""};a(29);var N=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).className="btn btn-".concat(e.props.size,"-").concat(e.props.type," btn-").concat(e.props.theme," ").concat(e.props.className),e}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement("button",{className:this.className,onClick:this.props.handleClick},this.props.children)}}]),a}(o.a.Component);function T(e){return e.buttons.map((function(e,t){return o.a.createElement(N,Object.assign({key:t},e),e.innerHTML)}))}N.defaultProps={type:"pill",theme:"",size:"md",classname:"",handleClick:function(){},children:""};var C=a(13),_=a.n(C),k=a(14),O=a.n(k),j=a(15),D=a.n(j),w=a(16),I=a.n(w),M=a(17),z=a.n(M),F=a(18),A=a.n(F),H=[{id:"ug-1",name:"Low",value:"1",src:_.a},{id:"ug-2",name:"Medium",value:"2",src:O.a},{id:"ug-3",name:"High",value:"3",src:D.a}],L=[{id:"ct-1",name:"Personal",value:"1",src:I.a},{id:"ct-2",name:"Academic",value:"2",src:z.a},{id:"ct-3",name:"Social",value:"3",src:A.a}],x=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).saveChange=function(){n.props.onDetailChange(n.props.todo.id,n.state)},n.handleUrgencyChange=function(e){n.setState({urgency:e.split("-")[1]})},n.handleCategoryChange=function(e){n.setState({category:e.split("-")[1]})},n.state={body:n.props.todo.body,urgency:n.props.todo.urgency,category:n.props.todo.category},n.controls=[{type:"pill",theme:"active",className:"detail__btn",size:"sm",innerHTML:"Cancel",handleClick:n.props.onClose},{type:"pill",theme:"passive",className:"detail__btn",size:"sm",innerHTML:"Save",handleClick:n.saveChange}],n}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement(p,{className:"detailWrapper"},o.a.createElement(p,{className:"detail"},o.a.createElement("textarea",{className:"detail__body",value:this.state.body,onChange:function(t){return e.setState({body:t.target.value})}}),o.a.createElement(S,{icons:H,size:"md",selectedId:"ug-".concat(this.state.urgency),handleClick:this.handleUrgencyChange,containerClass:"detail__optionContainer",iconClassName:"detail__option"}),o.a.createElement(S,{icons:L,size:"md",selectedId:"ct-".concat(this.state.category),handleClick:this.handleCategoryChange,containerClass:"detail__optionContainer",iconClassName:"detail__option"}),o.a.createElement("div",{className:"detail__controls"},o.a.createElement(T,{buttons:this.controls}))))}}]),a}(n.Component);function R(e){return o.a.createElement(p,{type:"rowc",className:"todo__features"},o.a.createElement("img",{alt:"Urgency Icon",src:H.find((function(t){return t.value===e.urgency})).src,className:"todo__featureImg"}),o.a.createElement("img",{alt:"Category Icon",src:L.find((function(t){return t.value===e.category})).src,className:"todo__featureImg"}))}function U(e){var t="todo";t+=e.data.completed?" todo--completed":"",t+=e.isSelected?" todo--selected":"";var a=[{type:"pill",theme:"active",className:"btn-complete",size:"md",innerHTML:e.data.completed?"Completed. Undo?":"Mark Complete",handleClick:function(){e.handlers.complete(e.data.id)}},{type:"disk",theme:"active",className:"btn-delete",innerHTML:"\u2612",handleClick:function(){e.handlers.delete(e.data.id)}},{type:"disk",theme:"active",className:"btn-detail",innerHTML:"\u270e",handleClick:function(){e.handlers.showDetail(e.data.id)}},{type:"disk",className:"btn-select",size:"sm",handleClick:function(){e.handlers.select(e.data.id)}}];return o.a.createElement(p,{className:t},o.a.createElement("div",{className:"todo__body"},e.data.body),o.a.createElement("div",{className:"todo__timestamp"},e.data.timestamp),o.a.createElement(R,{urgency:e.data.urgency,category:e.data.category}),o.a.createElement(T,{buttons:a}))}function K(e){return o.a.createElement(o.a.Fragment,null,e.todos.map((function(t){return o.a.createElement(U,{key:t.id,data:t,isSelected:e.selectedTodos.includes(t.id),handlers:e.handlers})})))}function P(e){var t=[{type:"disk",theme:"passive",className:"tool tool__complete",size:"md",innerHTML:"\u2611",handleClick:e.onComplete},{type:"disk",theme:"passive",className:"tool tool__incomplete",size:"md",innerHTML:"\u2610",handleClick:e.onIncomplete},{type:"disk",theme:"passive",className:"tool tool__delete",size:"md",innerHTML:"\u2612",handleClick:e.onDelete}];return o.a.createElement("div",{className:"toolmenu"},o.a.createElement(T,{buttons:t}))}function J(e){var t=f(e.todos,e.filter),a=e.handlers,n=a.changeDetail,c=a.closeDetail,l=a.completeSelection,r=a.incompleteSelection,i=a.deleteSelection,s=Object(b.a)(a,["changeDetail","closeDetail","completeSelection","incompleteSelection","deleteSelection"]),d=e.todos.find((function(t){return t.id===e.detailedTodo}));return o.a.createElement("div",{className:"todoDisplay"},0===e.todos.length?o.a.createElement(p,{className:"noTodos"},"You haven't added any todos yet. Got anything on top of your mind?"):o.a.createElement(o.a.Fragment,null,d&&o.a.createElement(x,{todo:d,onDetailChange:n,onClose:c}),o.a.createElement(K,{todos:t,selectedTodos:e.selectedTodos,handlers:s}),o.a.createElement(P,{onComplete:l,onIncomplete:r,onDelete:i})))}function W(e){return o.a.createElement("label",{className:"label"},e.name)}function B(e){var t=H.concat(L);return o.a.createElement(p,{className:"filter"},o.a.createElement(S,{icons:t,size:"sm",selectedId:e.activeFilter,handleClick:e.onFilterChange,containerClass:"filtericons"}),o.a.createElement(W,{name:"Filter Todos"}))}function G(e){var t=e.completed,a=e.total,n=a>0?Math.floor(100*t/a):0,c=2*Math.PI*100,l=c-c*n/100;return o.a.createElement(p,{className:"analytics__graphic"},o.a.createElement("svg",{height:2.2*100,width:2.2*100,className:"progressCircle"},o.a.createElement("circle",{className:"progressStroke",stroke:"rgb(53, 178, 236)",fill:"tansparent",strokeWidth:20,strokeDasharray:"".concat(c," ").concat(c),style:{strokeDashoffset:l},r:100,cx:100*1.1,cy:100*1.1})),o.a.createElement(p,{className:"analytics__data"},o.a.createElement("div",{className:"analytics__percentage"},"".concat(n,"%")),o.a.createElement("div",{className:"analytics__ratio"},"".concat(t," / ").concat(a))))}function Y(e){var t=f(e.todos,e.filter),a=t.filter((function(e){return e.completed})).length,n=t.length;return o.a.createElement(p,{className:"analytics"},o.a.createElement(G,{completed:a,total:n}),o.a.createElement(W,{name:"Analytics"}))}function q(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(W,{name:e.name}),o.a.createElement("select",{ref:e.selectRef,className:e.className},e.options.map((function(e,t){return o.a.createElement("option",{key:t,value:e.value},e.name)}))))}var Q=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this)).handleClick=function(e){e.preventDefault();var t=n.input.current.value,a=n.urgency.current.value,o=n.category.current.value;""!==t&&n.props.onSubmit(t,a,o),n.input.current.value="",n.urgency.current.value="1",n.category.current.value="1"},n.input=o.a.createRef(),n.urgency=o.a.createRef(),n.category=o.a.createRef(),n}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement(p,{type:"col",className:"addForm"},o.a.createElement(p,{className:"addForm__banner"},o.a.createElement("h1",{className:"bannerInner"},"Create Todo")),o.a.createElement("form",{className:"addForm__form",onSubmit:this.handleClick},o.a.createElement("input",{ref:this.input,type:"text",placeholder:"Add your todo ...",className:"addForm__message"}),o.a.createElement(q,{name:"Urgency",selectRef:this.urgency,className:"addForm__select",options:H}),o.a.createElement(q,{name:"Category",selectRef:this.category,className:"addForm__select",options:L}),o.a.createElement(N,{type:"disk",theme:"passive",size:"lg",className:"addForm__submit"},"+")))}}]),a}(o.a.Component);function V(e){return o.a.createElement(p,{type:"col",className:"sidebar"},o.a.createElement(B,{activeFilter:e.filter,onFilterChange:e.handlers.filter}),o.a.createElement(Y,{todos:e.todos,filter:e.filter}),o.a.createElement(Q,{onSubmit:e.handlers.add}))}var X=a(19);var Z=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).changeState=function(t,a){var n=Object(s.a)(Object(s.a)(Object(s.a)({},e.state),t),{},{selectedTodos:[]});a&&(n.pointInTime=n.pointInTime+1,n.timeline=[].concat(Object(i.a)(n.timeline.slice(0,n.pointInTime)),[[n.todos,n.filter,n.detailedTodo]])),e.setState(n)},e.handleFilter=function(t){var a=t===e.state.filter?"NONE":t;e.changeState({filter:a},!0)},e.handleComplete=function(t){var a=e.state.todos.find((function(e){return e.id===t}));e.handleChangeDetail(t,{completed:!a.completed})},e.handleDelete=function(t){e.server.deleteTodo(t).then((function(){e.server.getAllTodos().then((function(t){e.changeState({todos:t},!0)}))}))},e.handleShowDetail=function(t){e.changeState({detailedTodo:t},!0)},e.handleCloseDetail=function(){e.changeState({detailedTodo:"NONE"},!0)},e.handleChangeDetail=function(t,a){var n=e.state.todos.find((function(e){return e.id===t})),o=Object(s.a)(Object(s.a)({},n),a);e.server.updateTodo(o).then((function(){e.server.getAllTodos().then((function(t){e.changeState({todos:t,detailedTodo:"NONE"},!0)}))}))},e.handleSelect=function(t){var a=[];-1!==t?(a=e.state.selectedTodos.includes(t)?e.state.selectedTodos.filter((function(e){return e!==t})):[].concat(Object(i.a)(e.state.selectedTodos),[t]),e.setState({selectedTodos:a})):e.setState({selectedTodos:a})},e.toggleSelection=function(t){var a=e.state.todos.map((function(a){return e.state.selectedTodos.includes(a.id)?Object(s.a)(Object(s.a)({},a),{},{completed:t}):a}));e.server.updateSelection(a).then((function(){e.server.getAllTodos().then((function(t){e.changeState({todos:t},!0)}))}))},e.handleCompleteSelection=function(){e.toggleSelection(!0)},e.handleIncompleteSelection=function(){e.toggleSelection(!1)},e.handleDeleteSelection=function(){e.server.deleteMultiple(e.state.selectedTodos).then((function(){e.server.getAllTodos().then((function(t){e.changeState({todos:t},!0)}))}))},e.handleAdd=function(t,a,n){var o={body:t,urgency:a,category:n,completed:!1,pinned:!1,timestamp:(new Date).toLocaleString()};e.server.addTodo(o).then((function(){e.server.getAllTodos().then((function(t){e.changeState({todos:t},!0)}))}))},e.handleKeypress=function(t){!t.shiftKey&&t.metaKey&&"z"===t.key?e.handleUndo():t.shiftKey&&t.metaKey&&"z"===t.key&&e.handleRedo()},e.handleUndo=function(){if(!(e.state.pointInTime<=0)){var t=e.state.pointInTime-1,a=Object(r.a)(e.state.timeline[t],3),n=a[0],o=a[1],c=a[2];e.changeState({todos:n,filter:o,detailedTodo:c,pointInTime:t})}},e.handleRedo=function(){if(!(e.state.pointInTime>=e.state.timeline.length-1)){var t=e.state.pointInTime+1,a=Object(r.a)(e.state.timeline[t],3),n=a[0],o=a[1],c=a[2];e.changeState({todos:n,filter:o,detailedTodo:c,pointInTime:t})}},e.state={todos:[],filter:"NONE",detailedTodo:"NONE",selectedTodos:[],timeline:[[[],"NONE","NONE"]],pointInTime:0},e.server=null,e.todoHandlers={complete:e.handleComplete,delete:e.handleDelete,showDetail:e.handleShowDetail,closeDetail:e.handleCloseDetail,changeDetail:e.handleChangeDetail,select:e.handleSelect,completeSelection:e.handleCompleteSelection,incompleteSelection:e.handleIncompleteSelection,deleteSelection:e.handleDeleteSelection},e.sidebarHandlers={filter:e.handleFilter,add:e.handleAdd},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.server=function(){var e=Object(X.a)("TodoBase",1,{upgrade:function(e){console.log("Making a new TodoBase"),e.objectStoreNames.contains("TodoStore")||e.createObjectStore("TodoStore",{keyPath:"id",autoIncrement:!0})}});return{getAllTodos:function(){return e.then((function(e){return e.transaction("TodoStore","readonly").objectStore("TodoStore").getAll()}))},addTodo:function(t){return e.then((function(e){var a=e.transaction("TodoStore","readwrite");return a.objectStore("TodoStore").add(t),a.complete}))},deleteTodo:function(t){return e.then((function(e){var a=e.transaction("TodoStore","readwrite");return a.objectStore("TodoStore").delete(t),a.complete}))},updateTodo:function(t){return e.then((function(e){var a=e.transaction("TodoStore","readwrite");return a.objectStore("TodoStore").put(t),a.complete}))},updateSelection:function(t){return e.then((function(e){var a=e.transaction("TodoStore","readwrite"),n=a.objectStore("TodoStore");return t.forEach((function(e){return n.put(e)})),a.complete}))},deleteMultiple:function(t){return e.then((function(e){var a=e.transaction("TodoStore","readwrite"),n=a.objectStore("TodoStore");return t.forEach((function(e){return n.delete(e)})),a.complete}))}}}(),this.server.getAllTodos().then((function(t){e.changeState({todos:t},!0)})),window.addEventListener("keydown",this.handleKeypress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeypress)}},{key:"render",value:function(){return o.a.createElement(p,{type:"col",className:"container"},o.a.createElement(y,null),o.a.createElement(p,{type:"row",className:"main"},o.a.createElement(J,{todos:this.state.todos,filter:this.state.filter,detailedTodo:this.state.detailedTodo,selectedTodos:this.state.selectedTodos,handlers:this.todoHandlers}),o.a.createElement(V,{todos:this.state.todos,filter:this.state.filter,handlers:this.sidebarHandlers})))}}]),a}(n.Component);l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(Z,null)),document.getElementById("root"))}],[[21,1,2]]]);
//# sourceMappingURL=main.4e22164e.chunk.js.map